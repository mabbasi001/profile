function e(){document.querySelector(".expanded-content-container").classList.remove("active"),document.body.style.overflow="auto"}document.addEventListener("DOMContentLoaded",function(){!function(){const t=document.querySelectorAll(".tree-item.expandable"),n=document.querySelector(".expanded-content-container"),o=document.querySelector(".close-button");document.querySelectorAll(".content-section");t.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();i(e.getAttribute("data-section"),e.querySelector(".tree-name").textContent)}),e.addEventListener("touchend",t=>{t.preventDefault();i(e.getAttribute("data-section"),e.querySelector(".tree-name").textContent)})}),o.addEventListener("click",()=>{e()}),n.addEventListener("click",t=>{t.target===n&&e()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e()})}(),function(){const t=document.querySelectorAll(".nav-item");t.forEach(n=>{n.addEventListener("click",o=>{o.preventDefault();const i=n.getAttribute("data-section");"home"===i?e():function(e,t="file.ext"){const n=document.querySelector(".expanded-content-container"),o=document.querySelectorAll(".content-section"),i=document.getElementById("current-file");o.forEach(e=>{e.classList.remove("active")});const s=document.getElementById(e);s&&(s.classList.add("active"),i.textContent=`viewing: ${t}`,n.classList.add("active"),document.body.style.overflow="hidden",setTimeout(()=>{r(e)},300))}(i),t.forEach(e=>e.classList.remove("active")),n.classList.add("active");const s=document.querySelector(".main-nav");s.classList.contains("active")&&s.classList.remove("active")})})}(),function(){const e=document.querySelector(".mobile-toggle"),t=document.querySelector(".main-nav");e&&t&&(e.addEventListener("click",()=>{t.classList.toggle("active"),e.classList.toggle("active")}),document.addEventListener("click",n=>{e.contains(n.target)||t.contains(n.target)||(t.classList.remove("active"),e.classList.remove("active"))}))}(),document.querySelectorAll(".skill-progress").forEach(e=>{e.getAttribute("data-width"),e.style.width="0%"}),function(){const e=document.querySelector(".contact-form");e&&e.addEventListener("submit",t=>{t.preventDefault();const n=e.querySelector(".submit-btn"),o=n.innerHTML;n.innerHTML='<i class="fas fa-spinner fa-spin"></i> Sending...',n.disabled=!0,setTimeout(()=>{!function(e,t="info"){const n=document.querySelector(".notification");n&&n.remove();const o=document.createElement("div");o.className=`notification notification-${t}`,o.innerHTML=`\n        <div class="notification-content">\n            <i class="fas fa-${"success"===t?"check-circle":"info-circle"}"></i>\n            <span>${e}</span>\n            <button class="notification-close">&times;</button>\n        </div>\n    `,o.style.cssText=`\n        position: fixed;\n        top: 20px;\n        right: 20px;\n        background: ${"success"===t?"linear-gradient(45deg, #22c55e, #16a34a)":"linear-gradient(45deg, #3b82f6, #2563eb)"};\n        color: white;\n        padding: 1rem 1.5rem;\n        border-radius: 12px;\n        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);\n        z-index: 10000;\n        transform: translateX(100%);\n        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        max-width: 400px;\n        backdrop-filter: blur(20px);\n    `,document.body.appendChild(o),setTimeout(()=>{o.style.transform="translateX(0)"},100);o.querySelector(".notification-close").addEventListener("click",()=>{d(o)}),setTimeout(()=>{document.body.contains(o)&&d(o)},5e3)}("Message sent successfully! I'll get back to you soon.","success"),e.reset(),n.innerHTML=o,n.disabled=!1},2e3)})}(),function(){const e=document.createElement("div");e.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        z-index: -1;\n        overflow: hidden;\n    ",document.body.appendChild(e);for(let t=0;t<15;t++){const t=document.createElement("div");t.style.cssText=`\n            position: absolute;\n            width: 4px;\n            height: 4px;\n            background: rgba(59, 130, 246, 0.6);\n            border-radius: 50%;\n            box-shadow: 0 0 10px rgba(59, 130, 246, 0.8);\n            animation: particleFloat ${8+4*Math.random()}s linear infinite;\n            left: ${100*Math.random()}%;\n            top: ${100*Math.random()}%;\n            animation-delay: ${8*Math.random()}s;\n        `,e.appendChild(t)}const t="\n        @keyframes particleFloat {\n            0% {\n                transform: translateY(0px) translateX(0px) rotate(0deg);\n                opacity: 0;\n            }\n            10% {\n                opacity: 1;\n            }\n            90% {\n                opacity: 1;\n            }\n            100% {\n                transform: translateY(-100vh) translateX(50px) rotate(360deg);\n                opacity: 0;\n            }\n        }\n    ",n=document.createElement("style");n.textContent=t,document.head.appendChild(n)}(),function(){const e=document.createElement("div");e.style.cssText="\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        pointer-events: none;\n        z-index: -1;\n        overflow: hidden;\n    ",document.body.appendChild(e);for(let t=0;t<8;t++){const t=document.createElement("div");t.style.cssText=`\n            position: absolute;\n            width: 6px;\n            height: 6px;\n            background: radial-gradient(circle, rgba(59, 130, 246, 0.8), rgba(139, 92, 246, 0.6));\n            border-radius: 50%;\n            box-shadow: 0 0 20px rgba(59, 130, 246, 0.8);\n            animation: nodePulse ${3+2*Math.random()}s ease-in-out infinite;\n            left: ${100*Math.random()}%;\n            top: ${100*Math.random()}%;\n            animation-delay: ${3*Math.random()}s;\n        `,e.appendChild(t)}const t="\n        @keyframes nodePulse {\n            0%, 100% {\n                transform: scale(1);\n                box-shadow: 0 0 20px rgba(59, 130, 246, 0.8);\n            }\n            50% {\n                transform: scale(1.5);\n                box-shadow: 0 0 30px rgba(59, 130, 246, 1);\n            }\n        }\n    ",n=document.createElement("style");n.textContent=t,document.head.appendChild(n)}(),document.querySelectorAll(".dashboard-card, .skill-category, .experience-card, .cert-card, .project-card").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="translateY(-8px) scale(1.02)",e.style.boxShadow="0 25px 50px rgba(0, 0, 0, 0.4), 0 0 30px rgba(59, 130, 246, 0.3)"}),e.addEventListener("mouseleave",()=>{e.style.transform="",e.style.boxShadow=""})}),document.querySelectorAll(".tech-item, .project-item").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="translateX(10px)",e.style.background="rgba(59, 130, 246, 0.15)"}),e.addEventListener("mouseleave",()=>{e.style.transform="",e.style.background=""})}),function(){const e=document.querySelectorAll(".stat-number");setTimeout(()=>{e.forEach(e=>{const t=parseInt(e.textContent),n=t/50;let o=0;const i=setInterval(()=>{o+=n,o>=t&&(o=t,clearInterval(i)),e.textContent.includes("+")?e.textContent=Math.floor(o)+"+":e.textContent.includes("%")?e.textContent=Math.floor(o)+"%":e.textContent=Math.floor(o)},50)})},1e3);document.querySelectorAll(".social-links a, .social-links-contact a").forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="translateY(-3px) scale(1.1)",e.style.boxShadow="0 10px 25px rgba(59, 130, 246, 0.4)"}),e.addEventListener("mouseleave",()=>{e.style.transform="",e.style.boxShadow=""})})}(),document.querySelectorAll(".typing-text").forEach(e=>{const t=e.getAttribute("data-text");e.textContent="";let n=0;const o=()=>{n<t.length?(e.textContent+=t.charAt(n),n++,setTimeout(o,100)):setTimeout(()=>{const e=document.querySelector(".file-tree");e&&(e.style.display="block")},500)};setTimeout(o,1e3)}),console.log("Window Manager initialized"),window.isMobile=window.innerWidth<=768,window.addEventListener("resize",()=>{window.isMobile=window.innerWidth<=768}),function(){console.log("Initializing home navigation...");const t=document.getElementById("home-logo");console.log("Home logo element:",t),t?(console.log("Home logo found, adding event listeners"),t.addEventListener("click",o=>{o.preventDefault(),console.log("Home logo clicked!"),void 0!==n&&n.size>0&&(console.log("Closing",n.size,"windows"),n.forEach((e,t)=>{a(t)})),console.log("Closing expanded sections"),e(),t.style.transform="scale(0.95)",setTimeout(()=>{t.style.transform="scale(1)"},150),console.log("Home navigation completed")}),t.style.cursor="pointer",t.addEventListener("mouseenter",()=>{t.style.transform="scale(1.05)",t.style.transition="transform 0.2s ease"}),t.addEventListener("mouseleave",()=>{t.style.transform="scale(1)"})):console.error('Home logo element not found! Make sure the element has id="home-logo"')}(),function(){document.addEventListener("contextmenu",function(e){return e.preventDefault(),!1}),document.addEventListener("keydown",function(e){return"F12"===e.key||e.ctrlKey&&e.shiftKey&&("I"===e.key||"C"===e.key)||e.ctrlKey&&"u"===e.key||e.ctrlKey&&"s"===e.key?(e.preventDefault(),!1):void 0}),document.querySelectorAll(".terminal-container, .file-tree, .terminal-window").forEach(e=>{e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.mozUserSelect="none",e.style.msUserSelect="none"});const e=document.createElement("style");e.textContent="\n        ::selection { background: transparent; }\n        ::-moz-selection { background: transparent; }\n        body { -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }\n        img { -webkit-user-drag: none; -khtml-user-drag: none; -moz-user-drag: none; -o-user-drag: none; user-drag: none; }\n    ",document.head.appendChild(e),console.clear(),console.log("%c🚨 STOP! 🚨","color: red; font-size: 50px; font-weight: bold;"),console.log("%cThis is a browser feature intended for developers. Content on this website is protected by copyright law.","color: red; font-size: 16px;"),console.log("%c© 2025 Mabbasi - All Rights Reserved","color: #00ff00; font-size: 14px; font-weight: bold;");let t={open:!1,orientation:null};const n=160;setInterval(()=>{window.outerHeight-window.innerHeight>n||window.outerWidth-window.innerWidth>n?t.open||(t.open=!0,console.clear(),console.log("%c⚠️ Developer tools detected!","color: red; font-size: 20px;")):t.open=!1},500),document.addEventListener("dragstart",function(e){return e.preventDefault(),!1}),window.addEventListener("beforeprint",function(e){return e.preventDefault(),!1})}()});let t=0,n=new Map,o=1001;function i(e,i){if(n.has(e))return void c(e);t++;const a=`window-${t}`,d=function(e,t,n){const i=document.createElement("div");return i.className="terminal-window",i.id=e,i.style.zIndex=++o,i.innerHTML=`\n        <div class="terminal-window-header">\n            <div class="terminal-window-controls">\n                <div class="window-control close" data-action="close">×</div>\n                <div class="window-control minimize" data-action="minimize">−</div>\n                <div class="window-control maximize" data-action="maximize">□</div>\n            </div>\n            <div class="terminal-window-title">mabbasi@portfolio:~/${n}</div>\n        </div>\n        <div class="terminal-window-content">\n            <div class="loading-content">\n                <span class="prompt">mabbasi@portfolio:~$</span>\n                <span class="command">cat ${n}</span>\n                <div class="loading-dots">Loading<span>.</span><span>.</span><span>.</span></div>\n            </div>\n        </div>\n    `,i}(a,0,i);document.querySelector(".terminal-windows-container").appendChild(d),n.set(e,{id:a,element:d,sectionId:e,fileName:i,minimized:!1,maximized:!1}),d.classList.add("active","focused"),function(e,t){const n=document.querySelector(".taskbar-items"),o=document.createElement("div");o.className="taskbar-item active",o.setAttribute("data-section",e),o.textContent=t,o.addEventListener("click",()=>{c(e)}),n.appendChild(o)}(e,i),function(e,t){const n=e.querySelector(".terminal-window-header"),o=e.querySelectorAll(".window-control");console.log("Initializing window interactions for:",t),console.log("Header found:",n),console.log("Controls found:",o.length,o),window.isMobile||function(e,t){let n=0,o=0,i=0,s=0;function a(e){e.preventDefault(),i=e.clientX,s=e.clientY,document.addEventListener("mouseup",r),document.addEventListener("mousemove",c)}function c(t){t.preventDefault(),n=i-t.clientX,o=s-t.clientY,i=t.clientX,s=t.clientY;const a=e.offsetTop-o,c=e.offsetLeft-n,r=window.innerHeight-e.offsetHeight,l=window.innerWidth-e.offsetWidth;e.style.top=Math.max(0,Math.min(a,r))+"px",e.style.left=Math.max(0,Math.min(c,l))+"px"}function r(){document.removeEventListener("mouseup",r),document.removeEventListener("mousemove",c)}t.addEventListener("mousedown",a)}(e,n);o.forEach(e=>{e.addEventListener("click",n=>{n.stopPropagation();const o=e.getAttribute("data-action");console.log("Window control clicked:",o,"for section:",t),s(t,o)}),e.addEventListener("touchend",n=>{n.preventDefault(),n.stopPropagation();const o=e.getAttribute("data-action");console.log("Window control touched:",o,"for section:",t),s(t,o)})}),e.addEventListener("mousedown",()=>{c(t)}),e.addEventListener("touchstart",()=>{c(t)})}(d,e),function(e,t){const n=e.querySelector(".terminal-window-content"),o=document.getElementById(t);o&&setTimeout(()=>{n.innerHTML=o.outerHTML,n.querySelector(".content-section").classList.add("active"),"skills"===t&&setTimeout(()=>{l()},300),r(t)},500)}(d,e),function(e){if(window.isMobile)return;const n=30*(t-1);e.style.top=Math.min(100+n,window.innerHeight-400)+"px",e.style.left=Math.min(100+n,window.innerWidth-600)+"px"}(d)}function s(e,t){console.log("handleWindowAction called:",e,t);const o=n.get(e);if(!o)return void console.log("No window data found for:",e);const i=o.element;switch(console.log("Window element found:",i),t){case"close":console.log("Closing window:",e),a(e);break;case"minimize":console.log("Minimizing window:",e),function(e){const t=n.get(e);if(!t)return;t.element.style.display="none",t.minimized=!0,function(e,t){const n=document.querySelector(`.taskbar-item[data-section="${e}"]`);n&&n.classList.toggle("active",t)}(e,!1)}(e);break;case"maximize":console.log("Toggling maximize for window:",e),function(e){if(window.isMobile)return;const t=n.get(e);if(!t)return;const o=t.element;t.maximized?(o.classList.remove("maximized"),t.maximized=!1):(o.classList.add("maximized"),t.maximized=!0)}(e);break;default:console.log("Unknown action:",t)}}function a(e){const t=n.get(e);t&&(t.element.remove(),function(e){const t=document.querySelector(`.taskbar-item[data-section="${e}"]`);t&&t.remove()}(e),n.delete(e))}function c(e){n.forEach(e=>{e.element.classList.remove("focused")});const t=n.get(e);t&&(t.minimized&&(t.element.style.display="block",t.minimized=!1),t.element.classList.add("focused"),t.element.style.zIndex=++o,document.querySelectorAll(".taskbar-item").forEach(e=>{const t=e.getAttribute("data-section"),o=n.get(t),i=o&&o.element.classList.contains("focused")&&!o.minimized;e.classList.toggle("active",i)}))}function r(e){switch(e){case"skills":l();break;case"home":document.querySelectorAll(".dashboard-card").forEach((e,t)=>{e.style.opacity="0",e.style.transform="translateY(30px)",setTimeout(()=>{e.style.transition="all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",e.style.opacity="1",e.style.transform="translateY(0)"},150*t)});break;case"projects":document.querySelectorAll(".project-card").forEach((e,t)=>{e.style.opacity="0",e.style.transform="translateX(-30px)",setTimeout(()=>{e.style.transition="all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",e.style.opacity="1",e.style.transform="translateX(0)"},200*t)});break;case"certifications":document.querySelectorAll(".cert-card").forEach((e,t)=>{e.style.opacity="0",e.style.transform="scale(0.8)",setTimeout(()=>{e.style.transition="all 0.6s cubic-bezier(0.4, 0, 0.2, 1)",e.style.opacity="1",e.style.transform="scale(1)"},100*t)})}}function l(){document.querySelectorAll(".skill-progress").forEach((e,t)=>{const n=e.getAttribute("data-width");n&&(e.style.width="0%",setTimeout(()=>{e.style.width=n+"%"},200*t+100))})}function d(e){e.style.transform="translateX(100%)",setTimeout(()=>{document.body.contains(e)&&e.remove()},300)}document.addEventListener("keydown",e=>{const t=document.querySelectorAll(".nav-item"),n=document.querySelector(".nav-item.active"),o=Array.from(t).indexOf(n);if("ArrowDown"===e.key||"ArrowUp"===e.key){let n;e.preventDefault(),n="ArrowDown"===e.key?(o+1)%t.length:(o-1+t.length)%t.length,t[n].click(),t[n].focus()}}),window.addEventListener("load",()=>{!function(e){document.querySelectorAll(".content-section").forEach(e=>{e.classList.remove("active")});const t=document.getElementById(e);t&&(t.classList.add("active"),setTimeout(()=>{r(e)},100))}("home");const e=document.querySelector(".dashboard-container");e.style.opacity="0",e.style.transform="scale(0.95)",setTimeout(()=>{e.style.transition="all 0.8s cubic-bezier(0.4, 0, 0.2, 1)",e.style.opacity="1",e.style.transform="scale(1)"},100)});window.addEventListener("resize",((e,t)=>{let n;return function(...o){clearTimeout(n),n=setTimeout(()=>{clearTimeout(n),e(...o)},t)}})(()=>{const e=document.querySelector(".sidebar"),t=document.querySelector(".main-content");window.innerWidth<=768?(e.style.order="2",t.style.order="1"):(e.style.order="",t.style.order="")},250));